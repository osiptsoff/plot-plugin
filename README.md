# Plot plugin

## Description

This plugin provides generic plotting (or graphing) capabilities for tests in multiple branches in Jenkins.

This plugin will **plot** test statistics of build for each platform. 
Plots for a particular job (or project) are configured in the job configuration screen, 
where each field has additional **help information**. Each plot can have one or more lines (called data series). 
Data for each plot is stored in a CSV file within the job's root project directory.

It can generate various kind of plots, including `Area`, `Bar`, `Line`, `Stacked Bar`, `Waterfall`, etc.

Here is an example of the plots generated by original plugin:

![plot-example](./screenshots/plot-example.png)

## Configuration

### Currently supported parameters

The currently supported parameters are:

- **`width (int, default: 750)`** The width of the plot in pixels.
- **`height (int, default: 450)`** The height of the plot in pixels.
- **`rightBuildNum (int, default: 2^38 - 1)`** The right-most build number on the plot.
- **`hasLegend (boolean, default: true)`** Whether or not the plot has a legend.
- **`urlNumBuilds (string, default: 2^38 - 1)`** Number of builds back to show on this plot from URL.
- **`urlTitle (string, default: "")`** Title of plot from URL.
- **`urlStyle (string, default: "")`** Style of plot from URL.
- **`urlUseDescr (boolean, default: false)`** Use description flag from URL.
- **`title (string, default: "")`** Title of plot.
- **`yaxis (string, default: "")`** Y-axis label.
- **`series (object)`** Data series.
- **`group (string)`** Group name that this plot belongs to.
- **`numBuilds (string, default:"")`**
Number of builds back to show on this plot. An empty string means all builds. Must not be "0".
- **`csvFileName (string, default: "$ROOT_DIR/plot-XXXX.csv")`**
The name of the CSV file that persists the plots data. The CSV file is stored in the projects root directory. 
This is different from the source CSV that can be used as a source for the plot.
- **`csvLastModification (long, default: "last modified date")`** The date of the last change to the CSV file.
- **`style (string, default: "line")`** Style of plot: line, line3d, stackedArea, stackedBar, etc.
- **`useDescr (boolean, default: false)`** Whether or not to use build descriptions as X-axis labels.
- **`keepRecords (boolean, default: false)`** Keep records for builds that were deleted.
- **`exclZero (boolean, default: false)`** Whether or not to exclude zero as default Y-axis value.
- **`logarithmic (boolean, default: false)`** Use a logarithmic Y-axis.
- **`yaxisMinimum (string, default: "")`** Minimum y-axis value.
- **`yaxisMaximum (string, default: "")`** Maximum y-axis value.

For a full list of parameters the best place to view is [Plot.java](./src/main/java/hudson/plugins/plot/Plot.java) class.

#### Pipeline job configuration

Below you can find sample configurations.

```groovy
plot csvFileName: 'plot-8e54e334-ab7b-4c9f-94f7-b9d8965723df.csv', 
        series: [
                filenamePatterns: ['[pattern1', 'pattern2']
        ],
        group: 'Plot Group',
        style: 'line',
        exclZero: false,
        keepRecords: false,
        logarithmic: false,
        numBuilds: '',
        useDescr: false,
        yaxis: '',
        yaxisMaximum: '',
        yaxisMinimum: ''
```

```groovy
plot csvFileName: 'graph.csv',
                    series: [
                        filenamePatterns: ['/**/*report*/*.xml']
                    ],
                    group: 'Test',
                    style: 'line'
```

- **csvFileName** - autogenerated value, but you might want to change it to something more descriptive for your case.
- **filenamePatterns** - patterns of files to use in plot generation, must be of *glob* syntax

## Changelog

See the [Github releases page](https://github.com/jenkinsci/plot-plugin/releases).

